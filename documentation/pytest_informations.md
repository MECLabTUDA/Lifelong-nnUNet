# PyTest Informations

The [test folder](https://github.com/camgbus/Lifelong-nnUNet/tree/continual_learning/test) on the CL branch contains multiple PyTests that are used to validate the correctness of the provided Source Code. In general, we provide 5 tests, whereas four of those use at least one GPU. The only test not using a GPU is the one testing the functionality to change mask labels for dataset based on a mapping file as described [here](change_mask_labels.md).

### PyTests for Multi-Head and CL Trainers

The test located [here](https://github.com/camgbus/Lifelong-nnUNet/tree/continual_learning/test/training/network_training) tests the Multi-Head Trainer. Before using the CL extension for training or as a foundation for something else, we recommend to run those tests at the beginning to ensure that everything is as expected; the tests should all terminate without errors. Given the complexity and large test suite, the tests take several hours to complete. Knowing this, one can easily remove the tests once they are sucessfully run for the first time, since they do not need to be executed every time as long as no major changes have been made. During those tests, a log file is created within the folder of the trained models located in the `RESULTS_FOLDER`. Further, the tests use the Hippocampus and Heart data from the Medical Decathlon Challenge. Mentioning this, the user has to download those datasets and plan and preprocess them as in the example [here](https://github.com/MIC-DKFZ/nnUNet/blob/master/documentation/training_example_Hippocampus.md) before executing the test suite. Last but not least, since the test suite uses a GPU, the user has to set the `CUDA_VISIBLE_DEVICES` if a specific GPU should be used.